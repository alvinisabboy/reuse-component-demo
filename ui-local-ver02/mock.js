process.env.XS_APP_LOG_LEVEL = "error";
process.env.REQUEST_TRACE = true;

const approuter = require('@sap/approuter');

var start = function () {

  var router = approuter();
  router.beforeRequestHandler.use('/', function myMiddleware(req, res, next) {

    let userToken = "Bearer " + "eyJhbGciOiJSUzI1NiIsImprdSI6Imh0dHBzOi8vZXBkLWRldi1ldTIwLWNvbnN1bWVyLmF1dGhlbnRpY2F0aW9uLmV1MjAuaGFuYS5vbmRlbWFuZC5jb20vdG9rZW5fa2V5cyIsImtpZCI6ImtleS1pZC0xIiwidHlwIjoiSldUIiwiamlkIjogIjFnNTFDR2xTNjFWVS9YTEtrSWZaMGt5VEJzOWxGV2RRSFUydHpNMjdEREk9In0.eyJqdGkiOiJiNTdkNzlhYjhmNjA0MDg4YWE3ZmRhMWNjN2RiOGI2ZSIsImV4dF9hdHRyIjp7ImVuaGFuY2VyIjoiWFNVQUEiLCJzdWJhY2NvdW50aWQiOiI5YzczZDA0Ny1iYWIzLTRkMzEtOTE5Ny02N2NhMmZhMGUyMzUiLCJ6ZG4iOiJlcGQtZGV2LWV1MjAtY29uc3VtZXIifSwieHMuc3lzdGVtLmF0dHJpYnV0ZXMiOnsieHMuc2FtbC5ncm91cHMiOlsiV29ya3pvbmVfVXNlcl9UeXBlX2VtcGxveWVlIiwiQ29sbGFib3JhdGlvbkV4dGVybmFsVXNlckRldkFaIl0sInhzLnJvbGVjb2xsZWN0aW9ucyI6WyJ0ZXN0LXNkbS1yYyIsIkNvbGxhYm9yYXRpb25FeHRlcm5hbFVzZXJSQyJdfSwiZ2l2ZW5fbmFtZSI6IlNwZWNpZmljYXRpb24gTWFuYWdlbWVudCIsInhzLnVzZXIuYXR0cmlidXRlcyI6e30sImZhbWlseV9uYW1lIjoiRXh0ZXJuYWwgRWRpdG9yIiwic3ViIjoiZmE2YzY5YjctNDdkNi00MDM1LTlhOGUtM2NkNzc3NTBiZmJjIiwic2NvcGUiOlsiZXBkLXNwZWNpZmljYXRpb24tZGV2IWI5MzgzLlNwY19Xcml0ZSIsImVwZC1zcGVjaWZpY2F0aW9uLWRldiFiOTM4My5TcGNfUmVhZCIsIm9wZW5pZCJdLCJjbGllbnRfaWQiOiJzYi1lcGQtc3BlY2lmaWNhdGlvbi1kZXYhYjkzODMiLCJjaWQiOiJzYi1lcGQtc3BlY2lmaWNhdGlvbi1kZXYhYjkzODMiLCJhenAiOiJzYi1lcGQtc3BlY2lmaWNhdGlvbi1kZXYhYjkzODMiLCJncmFudF90eXBlIjoiYXV0aG9yaXphdGlvbl9jb2RlIiwidXNlcl9pZCI6ImZhNmM2OWI3LTQ3ZDYtNDAzNS05YThlLTNjZDc3NzUwYmZiYyIsIm9yaWdpbiI6ImF6emJsa2NsZC5hY2NvdW50czQwMC5vbmRlbWFuZC4iLCJ1c2VyX25hbWUiOiJzYXAuZXBkLnNwZWNpZmljYXRpb24uZXh0ZXJuYWwuZWRpdG9yQHNhcC5jb20iLCJlbWFpbCI6InNhcC5lcGQuc3BlY2lmaWNhdGlvbi5leHRlcm5hbC5lZGl0b3JAc2FwLmNvbSIsImF1dGhfdGltZSI6MTY4OTkyNjc1NCwicmV2X3NpZyI6ImZmODc3OTIyIiwiaWF0IjoxNjg5OTI2NzkxLCJleHAiOjE2ODk5Njk5OTEsImlzcyI6Imh0dHA6Ly9lcGQtZGV2LWV1MjAtY29uc3VtZXIubG9jYWxob3N0OjgwODAvdWFhL29hdXRoL3Rva2VuIiwiemlkIjoiOWM3M2QwNDctYmFiMy00ZDMxLTkxOTctNjdjYTJmYTBlMjM1IiwiYXVkIjpbInNiLWVwZC1zcGVjaWZpY2F0aW9uLWRldiFiOTM4MyIsImVwZC1zcGVjaWZpY2F0aW9uLWRldiFiOTM4MyIsIm9wZW5pZCJdfQ.svv7WZZhMPr9ujMt5tmQT39OvYvQ5cm9Bj_BbTpVPVALiS5DcPiQPgBomjnf5RlYvpYgVBZY849Kd1xlHo9IxkXxTdAm7kJPnbSRUlR_O6GShXnl0Chh4Z2b0xCnmRPChOYn8WigGKT-6z59_c1c83mYCLmsLg2tV6oMInotmPwMnswb0SZGBKuApBWgeOiK7UIyYmEO2HwFY3xpAb_FaAlgjZoMlWoI2vWIcxzSg40b7Ze18V2LPVTLUISDoIg5gEZFBAdix3jWFbdpWGH3cpGywu5KbEiAnOkZkwr2RWTvn3yaXxnnD4eenJHL9EkBUEyxNkPsE6R7WTuK9tHkubfAoofq9EB3ocbmP0EjHrIXVfoBYVt0s6SVl_3n4i7G-vZ8XO0twb9Rgd-n7-vDSwIpuSBmEu-UX79dLXyQxjPUVcjy_dqEYALOhH0bT-CoafosjxybJblM6MePfcb0PzqivV_eSf7SbiuDvFczAu9r3cBMimexRPgtX1qYCk1EIcBBpR2wXB4hXblGaF6JsdxqeO4mrgSFFGjxkpzmAyqeX-rINhu4Ss6nxYz7cM2YsTHmxVLnhDLmGcTHHoSVK4KYF715SZga0lF2JRe4AqJFZKGb5FsbM9VjyZsuSkn3r4X4U5vE1uHG4Q6hpGYlYhlEH_ff_xlE6-oqjBmbdKc";
    let mockToken = "Basic " + "cHJvcGVydHktYWRtaW46MTIzNDU=";
    req.headers.authorization = mockToken;
    next();
  });

  router.start();

};

start();

